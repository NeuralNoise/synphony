// Generated by CoffeeScript 1.3.1
(function() {

  requirejs.config({
    baseUrl: 'js/',
    paths: {
      handlebars: 'libs/handlebars',
      backbone: 'libs/backbone',
      jquery: ['http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min', 'libs/jquery-1.7.2.min'],
      underscore: 'libs/underscore',
      text: 'libs/text',
      i18n: 'libs/i18n',
      templates: '../templates'
    },
    shim: {
      backbone: {
        deps: ['underscore', 'jquery'],
        exports: 'Backbone'
      },
      underscore: {
        deps: [],
        exports: '_'
      },
      handlebars: {
        deps: [],
        exports: 'Handlebars'
      }
    },
    enforceDefine: true
  });

  define(['jquery', 'backbone', 'model/store', 'router/admin'], function($, Backbone, Store, AdminRouter) {
    var adminRouter, store;
    adminRouter = null;
    store = null;
    return $(function() {
      ($('#side-panel-toggle')).click(function() {
        ($('#control-panel')).toggle();
        ($('#side-panel')).toggle();
        return ($('#side-panel-toggle')).toggleClass('active');
      });
      store = new Store;
      return store.fetch({
        success: function() {
          adminRouter = new AdminRouter({
            store: store
          });
          return Backbone.history.start();
        },
        error: function() {
          return alert("Load failed");
        }
      });
    });
  });

}).call(this);
