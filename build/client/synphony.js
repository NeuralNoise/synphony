// Generated by CoffeeScript 1.3.3
(function() {

  requirejs.config({
    baseUrl: 'js/',
    paths: {
      handlebars: 'libs/handlebars',
      backbone: 'libs/backbone',
      jquery: ['http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min', 'libs/jquery-1.7.2.min'],
      underscore: 'libs/underscore',
      text: 'libs/text',
      i18n: 'libs/i18n',
      templates: '../templates'
    },
    shim: {
      backbone: {
        deps: ['underscore', 'jquery'],
        exports: 'Backbone'
      },
      underscore: {
        deps: [],
        exports: '_'
      },
      handlebars: {
        deps: [],
        exports: 'Handlebars'
      }
    },
    enforceDefine: true
  });

  define(['jquery', 'backbone', 'model/store', 'view/common/layout', 'router/admin', 'router/demo', 'router/designer'], function($, Backbone, Store, Layout, AdminRouter, DemoRouter, DesignerRouter) {
    var adminRouter, demoRouter, designerRouter, store;
    adminRouter = null;
    demoRouter = null;
    designerRouter = null;
    store = null;
    return $(function() {
      var layout;
      ($('#side-panel-toggle')).click(function() {
        ($('#control-panel')).toggle();
        ($('#side-panel')).toggle();
        return ($('#side-panel-toggle')).toggleClass('active');
      });
      layout = new Layout({
        menu: "#main-menu",
        content: "#main-content",
        sidebar: "#toolbar-content"
      });
      store = new Store;
      console.log("Loaded, starting router");
      adminRouter = new AdminRouter({
        store: store,
        layout: layout
      });
      demoRouter = new DemoRouter({
        store: store,
        layout: layout
      });
      designerRouter = new DesignerRouter({
        store: store,
        layout: layout
      });
      return Backbone.history.start();
    });
  });

}).call(this);
